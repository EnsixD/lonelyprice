(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[544],{2623:function(e,s,r){Promise.resolve().then(r.bind(r,2195))},2195:function(e,s,r){"use strict";r.r(s),r.d(s,{default:function(){return B}});var t=r(7437),a=r(2265),l=r(970),i=r(9376),n=r(3145),c=r(944),d=r(7648),o=r(2869),m=r(6070),u=r(5186),x=r(7129),h=r(781),f=r(5547),p=r(7699),g=r(1239),v=r(6275),j=r(4794),y=r(8736),b=r(8728),N=r(7692),w=r(6215),k=r(8906),Z=r(1671),z=r(9205);let C=(0,z.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),_=(0,z.Z)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);var S=r(9345),M=r(2369);let A=(0,z.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var L=r(6337),P=r(9322);let D=(0,z.Z)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),E=(0,z.Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),I=(0,z.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var V=r(4438),W=r(5974),F=r(6840),O="horizontal",q=["horizontal","vertical"],R=a.forwardRef((e,s)=>{let{decorative:r,orientation:a=O,...l}=e,i=q.includes(a)?a:O;return(0,t.jsx)(F.WV.div,{"data-orientation":i,...r?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"},...l,ref:s})});R.displayName="Separator";var U=r(4508);function Y(e){let{className:s,orientation:r="horizontal",decorative:a=!0,...l}=e;return(0,t.jsx)(R,{"data-slot":"separator",decorative:a,orientation:r,className:(0,U.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",s),...l})}function B(){var e;let s=(0,i.useRouter)(),[r,z]=(0,a.useState)(null),[F,O]=(0,a.useState)(null),[q,R]=(0,a.useState)(""),[U,B]=(0,a.useState)(""),[Q,T]=(0,a.useState)(""),[$,G]=(0,a.useState)(""),[H,K]=(0,a.useState)(""),[J,X]=(0,a.useState)(!1),[ee,es]=(0,a.useState)(null),[er,et]=(0,a.useState)(!1),ea=(0,a.useRef)(null),[el,ei]=(0,a.useState)(0),[en,ec]=(0,a.useState)(0);(0,a.useEffect)(()=>{ed()},[]);let ed=async()=>{let e=(0,l.e)(),{data:{user:r}}=await e.auth.getUser();if(!r){s.push("/auth/login");return}z(r);let{data:t}=await e.from("profiles").select("*").eq("id",r.id).single();t&&(O(t),R(t.full_name||""),B(t.avatar_url||""));let{count:a}=await e.from("cart_items").select("*",{count:"exact",head:!0}).eq("user_id",r.id);ei(a||0);let{count:i}=await e.from("orders").select("*",{count:"exact",head:!0}).eq("user_id",r.id);ec(i||0)},eo=async e=>{var s;let r=null===(s=e.target.files)||void 0===s?void 0:s[0];if(!r)return;if(!r.type.startsWith("image/")){V.A.error("Пожалуйста, выберите изображение");return}if(r.size>5242880){V.A.error("Размер файла не должен превышать 5MB");return}es(r);let t=new FileReader;t.onloadend=()=>{B(t.result)},t.readAsDataURL(r)},em=async e=>{e.preventDefault(),X(!0);let s=(0,l.e)();try{let e=U;if(ee){let t=ee.name.split(".").pop(),a="".concat(r.id,"-").concat(Date.now(),".").concat(t),l="".concat(r.id,"/").concat(a);if(null==F?void 0:F.avatar_url){let e=F.avatar_url.split("/avatars/")[1];e&&await s.storage.from("avatars").remove([e])}let{error:i}=await s.storage.from("avatars").upload(l,ee,{cacheControl:"3600",upsert:!0});if(i){V.A.error("Ошибка при загрузке аватара: ".concat(i.message)),X(!1);return}let{data:{publicUrl:n}}=s.storage.from("avatars").getPublicUrl(l);e=n}let{error:t}=await s.from("profiles").update({full_name:q,avatar_url:e,updated_at:new Date().toISOString()}).eq("id",r.id);t?V.A.error("Ошибка при обновлении профиля: ".concat(t.message)):(V.A.success("Профиль успешно обновлен"),es(null),await ed())}catch(e){V.A.error("Произошла непредвиденная ошибка")}finally{X(!1)}},eu=async e=>{if(e.preventDefault(),$!==H){V.A.error("Пароли не совпадают");return}if($.length<6){V.A.error("Пароль должен быть не менее 6 символов");return}X(!0);let s=(0,l.e)(),{error:r}=await s.auth.updateUser({password:$});r?V.A.error("Ошибка при смене пароля"):(V.A.success("Пароль успешно изменен"),T(""),G(""),K("")),X(!1)},ex=async()=>{let e=(0,l.e)();await e.auth.signOut(),s.push("/")};if(!r)return(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,t.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});let eh=q?q.split(" ").map(e=>e[0]).join("").toUpperCase():null===(e=r.email)||void 0===e?void 0:e[0].toUpperCase();return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-background to-muted/20",children:[(0,t.jsx)(f.AnimatedBackground,{}),(0,t.jsx)("div",{className:"border-b border-border/40 bg-background/80 backdrop-blur-xl sticky top-0 z-50 supports-[backdrop-filter]:bg-background/60",children:(0,t.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 py-3",children:(0,t.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(p.MobileNav,{user:r,cartCount:el,isAdmin:(null==F?void 0:F.is_admin)||!1}),(0,t.jsxs)(d.default,{href:"/",className:"flex items-center gap-2 sm:gap-3 hover:opacity-80 transition-opacity",children:[(0,t.jsx)("div",{className:"relative w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-primary/10 flex items-center justify-center overflow-hidden",children:(0,t.jsx)(n.default,{src:c.default,alt:"Lonely Price",width:32,height:32,priority:!0,className:"rounded-[50%] object-cover w-full h-full",sizes:"(max-width: 640px) 32px, 40px"})}),(0,t.jsx)("span",{className:"text-base sm:text-lg font-bold",children:"Lonely PRICE"})]})]}),(0,t.jsxs)("div",{className:"hidden md:flex items-center gap-2 lg:gap-3",children:[(0,t.jsx)(o.z,{asChild:!0,variant:"ghost",size:"sm",className:"transition-colors cursor-pointer h-9 px-3",children:(0,t.jsxs)(d.default,{href:"/services",children:[(0,t.jsx)(g.Z,{className:"w-4 h-4 mr-2"}),"Услуги"]})}),(0,t.jsx)(o.z,{asChild:!0,variant:"ghost",size:"sm",className:"transition-colors cursor-pointer h-9 px-3",children:(0,t.jsxs)(d.default,{href:"/dashboard/cart",children:[(0,t.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),"Корзина ",el>0?"(".concat(el,")"):""]})}),(0,t.jsx)(o.z,{asChild:!0,variant:"ghost",size:"sm",className:"transition-colors cursor-pointer h-9 px-3",children:(0,t.jsxs)(d.default,{href:"/dashboard/orders",children:[(0,t.jsx)(j.Z,{className:"w-4 h-4 mr-2"}),"Заказы ",en>0?"(".concat(en,")"):""]})}),(0,t.jsx)(o.z,{asChild:!0,variant:"ghost",size:"sm",className:"transition-colors cursor-pointer h-9 px-3",children:(0,t.jsxs)(d.default,{href:"/terms",children:[(0,t.jsx)(y.Z,{className:"w-4 h-4 mr-2"}),"Условия"]})}),(null==F?void 0:F.is_admin)&&(0,t.jsx)(o.z,{asChild:!0,variant:"secondary",size:"sm",className:"cursor-pointer h-9 px-3",children:(0,t.jsxs)(d.default,{href:"/admin",children:[(0,t.jsx)(b.Z,{className:"w-4 h-4 mr-2"}),"Админ"]})}),(0,t.jsxs)(o.z,{variant:"ghost",size:"sm",onClick:ex,className:"cursor-pointer h-9 px-3",children:[(0,t.jsx)(N.Z,{className:"w-4 h-4 mr-2"}),"Выйти"]})]}),(0,t.jsxs)("div",{className:"flex md:hidden items-center gap-2",children:[(null==F?void 0:F.is_admin)&&(0,t.jsx)(o.z,{asChild:!0,variant:"secondary",size:"sm",className:"cursor-pointer p-2 h-9 w-9",children:(0,t.jsxs)(d.default,{href:"/admin",children:[(0,t.jsx)(b.Z,{className:"w-4 h-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Админ"})]})}),(0,t.jsx)(o.z,{asChild:!0,variant:"ghost",size:"sm",className:"cursor-pointer p-2 h-9 w-9",children:(0,t.jsxs)(d.default,{href:"/dashboard/cart",children:[(0,t.jsx)(v.Z,{className:"w-4 h-4"}),el>0&&(0,t.jsx)("span",{className:"absolute -top-1 -right-1 bg-primary text-primary-foreground text-xs rounded-full w-5 h-5 flex items-center justify-center",children:el})]})})]})]})})}),(0,t.jsxs)("div",{className:"flex-1 mx-auto w-full max-w-7xl px-4 sm:px-6 py-6 sm:py-8 lg:py-12",children:[(0,t.jsxs)("div",{className:"mb-6 sm:mb-8",children:[(0,t.jsx)("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-foreground via-primary to-foreground/60 bg-clip-text text-transparent",children:"Личный кабинет"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-2",children:"Управление вашей учетной записью и настройками"})]}),(0,t.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,t.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,t.jsxs)(m.Zb,{className:"bg-card/50 backdrop-blur-sm border-border/50 shadow-lg",children:[(0,t.jsx)(m.Ol,{className:"pb-4",children:(0,t.jsxs)(m.ll,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(w.Z,{className:"w-5 h-5 text-primary"}),"Статистика"]})}),(0,t.jsxs)(m.aY,{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,t.jsxs)("div",{className:"relative w-20 h-20",children:[(0,t.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[(0,t.jsx)("circle",{className:"text-muted stroke-current",strokeWidth:"8",fill:"transparent",r:"40",cx:"50",cy:"50"}),(0,t.jsx)("circle",{className:"text-primary stroke-current",strokeWidth:"8",strokeLinecap:"round",fill:"transparent",r:"40",cx:"50",cy:"50",strokeDasharray:"".concat(el/10*251.2," 251.2"),strokeDashoffset:"0",transform:"rotate(-90 50 50)"})]}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl font-bold",children:el})})]}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground mt-2",children:"В корзине"})]}),(0,t.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,t.jsxs)("div",{className:"relative w-20 h-20",children:[(0,t.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[(0,t.jsx)("circle",{className:"text-muted stroke-current",strokeWidth:"8",fill:"transparent",r:"40",cx:"50",cy:"50"}),(0,t.jsx)("circle",{className:"text-primary stroke-current",strokeWidth:"8",strokeLinecap:"round",fill:"transparent",r:"40",cx:"50",cy:"50",strokeDasharray:"".concat(en/10*251.2," 251.2"),strokeDashoffset:"0",transform:"rotate(-90 50 50)"})]}),(0,t.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-2xl font-bold",children:en})})]}),(0,t.jsx)("span",{className:"text-sm text-muted-foreground mt-2",children:"Заказов"})]})]}),(0,t.jsx)(Y,{className:"bg-border/50"}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(k.Z,{className:"w-4 h-4 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Статус аккаунта"}),(0,t.jsxs)(W.C,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 mt-1",children:[(0,t.jsx)(Z.Z,{className:"w-3 h-3 mr-1"}),"Активен"]})]})]})}),(0,t.jsx)("div",{className:"flex items-center justify-between",children:(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(C,{className:"w-4 h-4 text-primary"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm font-medium",children:"Дата регистрации"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:new Date(r.created_at).toLocaleDateString("ru-RU")})]})]})})]}),(null==F?void 0:F.is_admin)&&(0,t.jsxs)("div",{className:"p-3 bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg border border-primary/20",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(k.Z,{className:"w-4 h-4 text-primary"}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Роль: Администратор"})]}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground mt-1",children:"Полный доступ ко всем функциям системы"})]})]})]})]}),(0,t.jsxs)(m.Zb,{className:"bg-card/50 backdrop-blur-sm border-border/50 shadow-lg",children:[(0,t.jsx)(m.Ol,{className:"pb-4",children:(0,t.jsxs)(m.ll,{className:"flex items-center gap-2 text-lg",children:[(0,t.jsx)(_,{className:"w-5 h-5 text-primary"}),"Информация"]})}),(0,t.jsxs)(m.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(S.Z,{className:"w-4 h-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"font-medium",children:"Email:"})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground break-all pl-6",children:r.email}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground/70 pl-6",children:"Email не может быть изменен"})]}),(0,t.jsx)(Y,{className:"bg-border/50"}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,t.jsx)(M.Z,{className:"w-4 h-4 text-muted-foreground"}),(0,t.jsx)("span",{className:"font-medium",children:"Имя:"})]}),(0,t.jsx)("p",{className:"text-sm font-medium pl-6",children:q||"Не указано"})]})]})]})]}),(0,t.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,t.jsxs)(m.Zb,{className:"bg-card/50 backdrop-blur-sm border-border/50 shadow-lg",children:[(0,t.jsxs)(m.Ol,{children:[(0,t.jsxs)(m.ll,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[(0,t.jsx)(_,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"}),"Редактировать профиль"]}),(0,t.jsx)(m.SZ,{children:"Обновите ваше имя и аватар профиля"})]}),(0,t.jsxs)("form",{onSubmit:em,children:[(0,t.jsx)(m.aY,{className:"space-y-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-6",children:[(0,t.jsxs)("div",{className:"flex flex-col items-center sm:items-start gap-4",children:[(0,t.jsxs)("div",{className:"relative group",children:[(0,t.jsxs)(h.qE,{className:"w-24 h-24 sm:w-28 sm:h-28 border-2 border-primary/20 shadow-lg group-hover:border-primary/40 transition-colors",children:[(0,t.jsx)(h.F$,{src:U||"/placeholder.svg",className:"object-cover"}),(0,t.jsx)(h.Q5,{className:"text-2xl bg-gradient-to-br from-primary/20 to-primary/10",children:eh})]}),(0,t.jsx)(o.z,{type:"button",size:"icon",variant:"secondary",className:"absolute -bottom-2 -right-2 rounded-full cursor-pointer shadow-md hover:shadow-lg transition-shadow",onClick:()=>{var e;return null===(e=ea.current)||void 0===e?void 0:e.click()},children:(0,t.jsx)(A,{className:"w-4 h-4"})}),(0,t.jsx)("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 rounded-full transition-opacity flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-xs text-white font-medium",children:"Изменить"})})]}),(0,t.jsx)("input",{ref:ea,type:"file",accept:"image/*",onChange:eo,className:"hidden"}),ee&&(0,t.jsxs)("div",{className:"text-xs text-primary flex items-center gap-2",children:[(0,t.jsx)(Z.Z,{className:"w-3 h-3"}),ee.name," (готово к сохранению)"]})]}),(0,t.jsxs)("div",{className:"flex-1 w-full space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{htmlFor:"fullName",className:"flex items-center gap-2 text-sm font-medium",children:[(0,t.jsx)(M.Z,{className:"w-4 h-4"}),"Полное имя"]}),(0,t.jsx)(u.I,{id:"fullName",value:q,onChange:e=>R(e.target.value),placeholder:"Введите ваше имя",className:"cursor-text h-11"}),(0,t.jsx)("p",{className:"text-xs text-muted-foreground",children:"Это имя будет отображаться в вашем профиле"})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{htmlFor:"email",className:"flex items-center gap-2 text-sm font-medium",children:[(0,t.jsx)(S.Z,{className:"w-4 h-4"}),"Email"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.I,{id:"email",value:r.email,disabled:!0,className:"bg-muted/50 cursor-not-allowed h-11 pr-10"}),(0,t.jsx)("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:(0,t.jsx)(L.Z,{className:"w-4 h-4 text-muted-foreground"})})]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,t.jsx)(P.Z,{className:"w-3 h-3"}),"Email не может быть изменен"]})]})]})]})}),(0,t.jsx)(m.eW,{className:"border-t border-border/50 pt-6",children:(0,t.jsx)(o.z,{type:"submit",disabled:J,className:"cursor-pointer w-full sm:w-auto bg-gradient-to-r from-primary to-primary/90 hover:from-primary hover:to-primary/80 shadow-md hover:shadow-lg transition-all duration-200 h-11 px-6",children:J?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 mr-2 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Сохранение..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(Z.Z,{className:"w-4 h-4 mr-2"}),"Сохранить изменения"]})})})]})]}),(0,t.jsxs)(m.Zb,{className:"bg-card/50 backdrop-blur-sm border-border/50 shadow-lg",children:[(0,t.jsxs)(m.Ol,{children:[(0,t.jsxs)(m.ll,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[(0,t.jsx)(D,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"}),"Безопасность аккаунта"]}),(0,t.jsx)(m.SZ,{children:"Измените пароль для защиты вашего аккаунта"})]}),(0,t.jsxs)("form",{onSubmit:eu,children:[(0,t.jsxs)(m.aY,{className:"space-y-4",children:[(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{htmlFor:"newPassword",className:"flex items-center gap-2 text-sm font-medium",children:[(0,t.jsx)(L.Z,{className:"w-4 h-4"}),"Новый пароль"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.I,{id:"newPassword",type:er?"text":"password",value:$,onChange:e=>G(e.target.value),placeholder:"Введите новый пароль",className:"cursor-text h-11 pr-10"}),(0,t.jsx)(o.z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-7 w-7 cursor-pointer",onClick:()=>et(!er),children:er?(0,t.jsx)(E,{className:"w-4 h-4"}):(0,t.jsx)(I,{className:"w-4 h-4"})})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[(0,t.jsx)(P.Z,{className:"w-3 h-3"}),"Минимум 6 символов"]})]}),(0,t.jsxs)("div",{className:"space-y-2",children:[(0,t.jsxs)(x._,{htmlFor:"confirmPassword",className:"flex items-center gap-2 text-sm font-medium",children:[(0,t.jsx)(L.Z,{className:"w-4 h-4"}),"Подтвердите пароль"]}),(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(u.I,{id:"confirmPassword",type:er?"text":"password",value:H,onChange:e=>K(e.target.value),placeholder:"Повторите новый пароль",className:"cursor-text h-11 pr-10"}),(0,t.jsx)(o.z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-7 w-7 cursor-pointer",onClick:()=>et(!er),children:er?(0,t.jsx)(E,{className:"w-4 h-4"}):(0,t.jsx)(I,{className:"w-4 h-4"})})]}),$&&H&&$!==H&&(0,t.jsxs)("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[(0,t.jsx)(P.Z,{className:"w-3 h-3"}),"Пароли не совпадают"]})]})]}),(0,t.jsx)(m.eW,{className:"border-t border-border/50 pt-6",children:(0,t.jsx)(o.z,{type:"submit",disabled:J||!$||!H||$!==H,className:"cursor-pointer w-full sm:w-auto bg-gradient-to-r from-primary to-primary/90 hover:from-primary hover:to-primary/80 shadow-md hover:shadow-lg transition-all duration-200 h-11 px-6 disabled:opacity-50 disabled:cursor-not-allowed",children:J?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("div",{className:"w-4 h-4 mr-2 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Изменение..."]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(k.Z,{className:"w-4 h-4 mr-2"}),"Обновить пароль"]})})})]})]})]})]})]}),(0,t.jsx)("div",{className:"border-t border-border/40 mt-12 py-6",children:(0,t.jsx)("div",{className:"mx-auto max-w-7xl px-4 sm:px-6",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:(0,t.jsx)(n.default,{src:c.default,alt:"Lonely Price",width:500,height:300,priority:!0,className:"rounded-[50%]"})}),(0,t.jsx)("span",{className:"text-sm font-medium",children:"Lonely PRICE"})]}),(0,t.jsxs)("div",{className:"text-xs text-muted-foreground text-center sm:text-right",children:["\xa9 ",new Date().getFullYear()," Админ-панель. Все права защищены."]})]})})})]})}},781:function(e,s,r){"use strict";r.d(s,{qE:function(){return y},Q5:function(){return N},F$:function(){return b}});var t=r(7437),a=r(2265),l=r(3966),i=r(6606),n=r(1188),c=r(6840),d="Avatar",[o,m]=(0,l.b)(d),[u,x]=o(d),h=a.forwardRef((e,s)=>{let{__scopeAvatar:r,...l}=e,[i,n]=a.useState("idle");return(0,t.jsx)(u,{scope:r,imageLoadingStatus:i,onImageLoadingStatusChange:n,children:(0,t.jsx)(c.WV.span,{...l,ref:s})})});h.displayName=d;var f="AvatarImage",p=a.forwardRef((e,s)=>{let{__scopeAvatar:r,src:l,onLoadingStatusChange:d=()=>{},...o}=e,m=x(f,r),u=function(e,s){let[r,t]=a.useState("idle");return(0,n.b)(()=>{if(!e){t("error");return}let r=!0,a=new window.Image,l=e=>()=>{r&&t(e)};return t("loading"),a.onload=l("loaded"),a.onerror=l("error"),a.src=e,s&&(a.referrerPolicy=s),()=>{r=!1}},[e,s]),r}(l,o.referrerPolicy),h=(0,i.W)(e=>{d(e),m.onImageLoadingStatusChange(e)});return(0,n.b)(()=>{"idle"!==u&&h(u)},[u,h]),"loaded"===u?(0,t.jsx)(c.WV.img,{...o,ref:s,src:l}):null});p.displayName=f;var g="AvatarFallback",v=a.forwardRef((e,s)=>{let{__scopeAvatar:r,delayMs:l,...i}=e,n=x(g,r),[d,o]=a.useState(void 0===l);return a.useEffect(()=>{if(void 0!==l){let e=window.setTimeout(()=>o(!0),l);return()=>window.clearTimeout(e)}},[l]),d&&"loaded"!==n.imageLoadingStatus?(0,t.jsx)(c.WV.span,{...i,ref:s}):null});v.displayName=g;var j=r(4508);function y(e){let{className:s,...r}=e;return(0,t.jsx)(h,{"data-slot":"avatar",className:(0,j.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",s),...r})}function b(e){let{className:s,...r}=e;return(0,t.jsx)(p,{"data-slot":"avatar-image",className:(0,j.cn)("aspect-square size-full",s),...r})}function N(e){let{className:s,...r}=e;return(0,t.jsx)(v,{"data-slot":"avatar-fallback",className:(0,j.cn)("bg-muted flex size-full items-center justify-center rounded-full",s),...r})}},5974:function(e,s,r){"use strict";r.d(s,{C:function(){return c}});var t=r(7437);r(2265);var a=r(7053),l=r(535),i=r(4508);let n=(0,l.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function c(e){let{className:s,variant:r,asChild:l=!1,...c}=e,d=l?a.g7:"span";return(0,t.jsx)(d,{"data-slot":"badge",className:(0,i.cn)(n({variant:r}),s),...c})}},6070:function(e,s,r){"use strict";r.d(s,{Ol:function(){return i},SZ:function(){return c},Zb:function(){return l},aY:function(){return d},eW:function(){return o},ll:function(){return n}});var t=r(7437);r(2265);var a=r(4508);function l(e){let{className:s,...r}=e;return(0,t.jsx)("div",{"data-slot":"card",className:(0,a.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",s),...r})}function i(e){let{className:s,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-header",className:(0,a.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",s),...r})}function n(e){let{className:s,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-title",className:(0,a.cn)("leading-none font-semibold",s),...r})}function c(e){let{className:s,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-description",className:(0,a.cn)("text-muted-foreground text-sm",s),...r})}function d(e){let{className:s,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-content",className:(0,a.cn)("px-6",s),...r})}function o(e){let{className:s,...r}=e;return(0,t.jsx)("div",{"data-slot":"card-footer",className:(0,a.cn)("flex items-center px-6 [.border-t]:pt-6",s),...r})}},5186:function(e,s,r){"use strict";r.d(s,{I:function(){return l}});var t=r(7437);r(2265);var a=r(4508);function l(e){let{className:s,type:r,...l}=e;return(0,t.jsx)("input",{type:r,"data-slot":"input",className:(0,a.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",s),...l})}},7129:function(e,s,r){"use strict";r.d(s,{_:function(){return c}});var t=r(7437),a=r(2265),l=r(6840),i=a.forwardRef((e,s)=>(0,t.jsx)(l.WV.label,{...e,ref:s,onMouseDown:s=>{var r;s.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var n=r(4508);function c(e){let{className:s,...r}=e;return(0,t.jsx)(i,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",s),...r})}},6215:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9205).Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},9322:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9205).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},1671:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9205).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},6337:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9205).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},9345:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9205).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},4794:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9205).Z)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},8906:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9205).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},1239:function(e,s,r){"use strict";r.d(s,{Z:function(){return t}});let t=(0,r(9205).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},3145:function(e,s,r){"use strict";r.d(s,{default:function(){return a.a}});var t=r(8461),a=r.n(t)},8461:function(e,s,r){"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(e,s){for(var r in s)Object.defineProperty(e,r,{enumerable:!0,get:s[r]})}(s,{default:function(){return c},getImageProps:function(){return n}});let t=r(7043),a=r(5346),l=r(5878),i=t._(r(5084));function n(e){let{props:s}=(0,a.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,r]of Object.entries(s))void 0===r&&delete s[e];return{props:s}}let c=l.Image}},function(e){e.O(0,[137,172,109,972,122,559,438,336,913,971,117,744],function(){return e(e.s=2623)}),_N_E=e.O()}]);