(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[857],{7595:function(e,t,s){Promise.resolve().then(s.bind(s,7699)),Promise.resolve().then(s.t.bind(s,5878,23)),Promise.resolve().then(s.t.bind(s,2972,23)),Promise.resolve().then(s.bind(s,944))},7699:function(e,t,s){"use strict";s.d(t,{MobileNav:function(){return z}});var a=s(7437),r=s(2265),i=s(7648),n=s(2869),o=s(185),l=s(2489),d=s(4508);function c(e){let{...t}=e;return(0,a.jsx)(o.fC,{"data-slot":"sheet",...t})}function u(e){let{...t}=e;return(0,a.jsx)(o.xz,{"data-slot":"sheet-trigger",...t})}function h(e){let{...t}=e;return(0,a.jsx)(o.h_,{"data-slot":"sheet-portal",...t})}function f(e){let{className:t,...s}=e;return(0,a.jsx)(o.aV,{"data-slot":"sheet-overlay",className:(0,d.cn)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...s})}function m(e){let{className:t,children:s,side:r="right",...i}=e;return(0,a.jsxs)(h,{children:[(0,a.jsx)(f,{}),(0,a.jsxs)(o.VY,{"data-slot":"sheet-content",className:(0,d.cn)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out fixed z-50 flex flex-col gap-4 shadow-lg transition ease-in-out data-[state=closed]:duration-300 data-[state=open]:duration-500","right"===r&&"data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right inset-y-0 right-0 h-full w-3/4 border-l sm:max-w-sm","left"===r&&"data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left inset-y-0 left-0 h-full w-3/4 border-r sm:max-w-sm","top"===r&&"data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top inset-x-0 top-0 h-auto border-b","bottom"===r&&"data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom inset-x-0 bottom-0 h-auto border-t",t),...i,children:[s,(0,a.jsxs)(o.x8,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-secondary absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none",children:[(0,a.jsx)(l.Z,{className:"size-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})}var g=s(8293),p=s(4938),x=s(8736),v=s(6275),b=s(2369),j=s(8728),A=s(7692),w=s(970),y=s(9376),N=s(4438);function z(e){let{user:t,cartCount:s,isAdmin:o}=e,[l,d]=(0,r.useState)(!1),h=(0,y.useRouter)(),f=(0,w.e)(),z=async()=>{await f.auth.signOut(),N.A.success("Вы вышли из системы"),h.push("/auth/login"),h.refresh()};return(0,a.jsxs)(c,{open:l,onOpenChange:d,children:[(0,a.jsx)(u,{asChild:!0,children:(0,a.jsx)(()=>(0,a.jsx)(n.z,{variant:"ghost",size:"icon",className:"cursor-pointer md:hidden",onClick:()=>d(!0),children:(0,a.jsx)(g.Z,{className:"w-5 h-5"})}),{})}),(0,a.jsx)(m,{side:"left",className:"w-64 sm:w-80",children:(0,a.jsxs)("div",{className:"flex flex-col h-full",children:[(0,a.jsx)("div",{className:"flex-1 py-6",children:(0,a.jsxs)("nav",{className:"grid gap-1",children:[(0,a.jsx)(n.z,{variant:"ghost",className:"w-full justify-start cursor-pointer",onClick:()=>{h.push("/"),d(!1)},asChild:!0,children:(0,a.jsxs)(i.default,{href:"/",children:[(0,a.jsx)(p.Z,{className:"w-4 h-4 mr-3"}),"Главная"]})}),(0,a.jsx)(n.z,{variant:"ghost",className:"w-full justify-start cursor-pointer",onClick:()=>{h.push("/terms"),d(!1)},asChild:!0,children:(0,a.jsxs)(i.default,{href:"/terms",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 mr-3"}),"Условия"]})}),(0,a.jsx)(n.z,{variant:"ghost",className:"w-full justify-start cursor-pointer",onClick:()=>{h.push("/dashboard/cart"),d(!1)},asChild:!0,children:(0,a.jsxs)(i.default,{href:"/dashboard/cart",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4 mr-3"}),"Корзина",s>0&&(0,a.jsx)("span",{className:"ml-auto bg-primary text-primary-foreground text-xs rounded-full w-5 h-5 flex items-center justify-center",children:s})]})}),(0,a.jsx)(n.z,{variant:"ghost",className:"w-full justify-start cursor-pointer",onClick:()=>{h.push("/dashboard/profile"),d(!1)},asChild:!0,children:(0,a.jsxs)(i.default,{href:"/dashboard/profile",children:[(0,a.jsx)(b.Z,{className:"w-4 h-4 mr-3"}),"Профиль"]})}),o&&(0,a.jsx)(n.z,{variant:"ghost",className:"w-full justify-start cursor-pointer",onClick:()=>{h.push("/admin"),d(!1)},asChild:!0,children:(0,a.jsxs)(i.default,{href:"/admin",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4 mr-3"}),"Админ-панель"]})})]})}),(0,a.jsx)("div",{className:"border-t pt-4",children:(0,a.jsxs)(n.z,{variant:"ghost",className:"w-full justify-start text-destructive hover:text-destructive cursor-pointer",onClick:z,children:[(0,a.jsx)(A.Z,{className:"w-4 h-4 mr-3"}),"Выйти"]})})]})})]})}},2869:function(e,t,s){"use strict";s.d(t,{d:function(){return o},z:function(){return l}});var a=s(7437);s(2265);var r=s(7053),i=s(535),n=s(4508);let o=(0,i.j)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:s,size:i,asChild:l=!1,...d}=e,c=l?r.g7:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,n.cn)(o({variant:s,size:i,className:t})),...d})}},970:function(e,t,s){"use strict";let a;s.d(t,{e:function(){return i}});var r=s(1695);function i(){if(a)return a;let e="https://lvjmvxhppvssyhryjaal.supabase.co",t="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imx2am12eGhwcHZzc3locnlqYWFsIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjU3MDE2MzQsImV4cCI6MjA4MTI3NzYzNH0.xpHw8-n5DI1w0EZQz415rMn_Ejdr2GWxMzaz7ySIvB0";if(!e||!t)throw Error("Missing Supabase environment variables");return a=(0,r.createBrowserClient)(e,t)}},4508:function(e,t,s){"use strict";s.d(t,{cn:function(){return i}});var a=s(1994),r=s(3335);function i(){for(var e=arguments.length,t=Array(e),s=0;s<e;s++)t[s]=arguments[s];return(0,r.m6)((0,a.W)(t))}},944:function(e,t,s){"use strict";s.r(t),t.default={src:"/_next/static/media/logo.1e858ee9.png",height:1024,width:1024,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEX//v/w8PDMzMz4+Pi1tbWFhYWfn59ubm4PDw+Xl5cWOcINAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAKUlEQVR4nGNgwATMTIwQBgsrCwOYycrBzsLGxMDAwMTJxMwIlYWpBlMACXYASgctBm8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}}},function(e){e.O(0,[137,172,109,972,122,559,438,336,971,117,744],function(){return e(e.s=7595)}),_N_E=e.O()}]);