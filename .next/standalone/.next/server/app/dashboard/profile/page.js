(()=>{var e={};e.id=544,e.ids=[544],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},13291:(e,s,a)=>{"use strict";a.r(s),a.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c}),a(45587),a(11506),a(35866);var r=a(23191),t=a(88716),l=a(37922),i=a.n(l),n=a(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);a.d(s,d);let c=["",{children:["dashboard",{children:["profile",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,45587)),"/home/ensi/Projects/lonlyprice/app/dashboard/profile/page.tsx"]}]},{}]},{metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}]},{layout:[()=>Promise.resolve().then(a.bind(a,11506)),"/home/ensi/Projects/lonlyprice/app/layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,35866,23)),"next/dist/client/components/not-found-error"],metadata:{icon:[],apple:[],openGraph:[],twitter:[],manifest:"/manifest.webmanifest"}}],o=["/home/ensi/Projects/lonlyprice/app/dashboard/profile/page.tsx"],m="/dashboard/profile/page",x={require:a,loadChunk:()=>Promise.resolve()},u=new r.AppPageRouteModule({definition:{kind:t.x.APP_PAGE,page:"/dashboard/profile/page",pathname:"/dashboard/profile",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},84319:(e,s,a)=>{Promise.resolve().then(a.bind(a,48089))},48089:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>$});var r=a(10326),t=a(17577),l=a(42945),i=a(35047),n=a(46226),d=a(30656),c=a(90434),o=a(90772),m=a(33071),x=a(54432),u=a(45842),h=a(85562),p=a(83884),f=a(58023),g=a(3634),j=a(57671),v=a(48705),b=a(36283),y=a(88378),N=a(71810),w=a(26754),k=a(58038),A=a(30361),Z=a(62881);let z=(0,Z.Z)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]),C=(0,Z.Z)("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);var _=a(5932),M=a(79635);let P=(0,Z.Z)("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);var S=a(9015),I=a(41291);let L=(0,Z.Z)("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]),D=(0,Z.Z)("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]),E=(0,Z.Z)("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);var W=a(85999),q=a(567),R=a(45226),V="horizontal",F=["horizontal","vertical"],O=t.forwardRef((e,s)=>{let{decorative:a,orientation:t=V,...l}=e,i=F.includes(t)?t:V;return(0,r.jsx)(R.WV.div,{"data-orientation":i,...a?{role:"none"}:{"aria-orientation":"vertical"===i?i:void 0,role:"separator"},...l,ref:s})});O.displayName="Separator";var U=a(77863);function B({className:e,orientation:s="horizontal",decorative:a=!0,...t}){return r.jsx(O,{"data-slot":"separator",decorative:a,orientation:s,className:(0,U.cn)("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",e),...t})}function $(){let e=(0,i.useRouter)(),[s,a]=(0,t.useState)(null),[Z,R]=(0,t.useState)(null),[V,F]=(0,t.useState)(""),[O,U]=(0,t.useState)(""),[$,Y]=(0,t.useState)(""),[G,T]=(0,t.useState)(""),[X,K]=(0,t.useState)(""),[Q,H]=(0,t.useState)(!1),[J,ee]=(0,t.useState)(null),[es,ea]=(0,t.useState)(!1),er=(0,t.useRef)(null),[et,el]=(0,t.useState)(0),[ei,en]=(0,t.useState)(0),ed=async()=>{let s=(0,l.e)(),{data:{user:r}}=await s.auth.getUser();if(!r){e.push("/auth/login");return}a(r);let{data:t}=await s.from("profiles").select("*").eq("id",r.id).single();t&&(R(t),F(t.full_name||""),U(t.avatar_url||""));let{count:i}=await s.from("cart_items").select("*",{count:"exact",head:!0}).eq("user_id",r.id);el(i||0);let{count:n}=await s.from("orders").select("*",{count:"exact",head:!0}).eq("user_id",r.id);en(n||0)},ec=async e=>{let s=e.target.files?.[0];if(!s)return;if(!s.type.startsWith("image/")){W.A.error("Пожалуйста, выберите изображение");return}if(s.size>5242880){W.A.error("Размер файла не должен превышать 5MB");return}ee(s);let a=new FileReader;a.onloadend=()=>{U(a.result)},a.readAsDataURL(s)},eo=async e=>{e.preventDefault(),H(!0);let a=(0,l.e)();try{let e=O;if(J){let r=J.name.split(".").pop(),t=`${s.id}-${Date.now()}.${r}`,l=`${s.id}/${t}`;if(Z?.avatar_url){let e=Z.avatar_url.split("/avatars/")[1];e&&await a.storage.from("avatars").remove([e])}let{error:i}=await a.storage.from("avatars").upload(l,J,{cacheControl:"3600",upsert:!0});if(i){W.A.error(`Ошибка при загрузке аватара: ${i.message}`),H(!1);return}let{data:{publicUrl:n}}=a.storage.from("avatars").getPublicUrl(l);e=n}let{error:r}=await a.from("profiles").update({full_name:V,avatar_url:e,updated_at:new Date().toISOString()}).eq("id",s.id);r?W.A.error(`Ошибка при обновлении профиля: ${r.message}`):(W.A.success("Профиль успешно обновлен"),ee(null),await ed())}catch(e){W.A.error("Произошла непредвиденная ошибка")}finally{H(!1)}},em=async e=>{if(e.preventDefault(),G!==X){W.A.error("Пароли не совпадают");return}if(G.length<6){W.A.error("Пароль должен быть не менее 6 символов");return}H(!0);let s=(0,l.e)(),{error:a}=await s.auth.updateUser({password:G});a?W.A.error("Ошибка при смене пароля"):(W.A.success("Пароль успешно изменен"),Y(""),T(""),K("")),H(!1)},ex=async()=>{let s=(0,l.e)();await s.auth.signOut(),e.push("/")};if(!s)return r.jsx("div",{className:"flex items-center justify-center min-h-screen",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})});let eu=V?V.split(" ").map(e=>e[0]).join("").toUpperCase():s.email?.[0].toUpperCase();return(0,r.jsxs)("div",{className:"min-h-screen flex flex-col bg-gradient-to-b from-background to-muted/20",children:[r.jsx(p.AnimatedBackground,{}),r.jsx("div",{className:"border-b border-border/40 bg-background/80 backdrop-blur-xl sticky top-0 z-50 supports-[backdrop-filter]:bg-background/60",children:r.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6 py-3",children:(0,r.jsxs)("div",{className:"flex items-center justify-between gap-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(f.MobileNav,{user:s,cartCount:et,isAdmin:Z?.is_admin||!1}),(0,r.jsxs)(c.default,{href:"/",className:"flex items-center gap-2 sm:gap-3 hover:opacity-80 transition-opacity",children:[r.jsx("div",{className:"relative w-8 h-8 sm:w-10 sm:h-10 rounded-lg bg-primary/10 flex items-center justify-center overflow-hidden",children:r.jsx(n.default,{src:d.default,alt:"Lonely Price",width:32,height:32,priority:!0,className:"rounded-[50%] object-cover w-full h-full",sizes:"(max-width: 640px) 32px, 40px"})}),r.jsx("span",{className:"text-base sm:text-lg font-bold",children:"Lonely PRICE"})]})]}),(0,r.jsxs)("div",{className:"hidden md:flex items-center gap-2 lg:gap-3",children:[r.jsx(o.z,{asChild:!0,variant:"ghost",size:"sm",className:"transition-colors cursor-pointer h-9 px-3",children:(0,r.jsxs)(c.default,{href:"/services",children:[r.jsx(g.Z,{className:"w-4 h-4 mr-2"}),"Услуги"]})}),r.jsx(o.z,{asChild:!0,variant:"ghost",size:"sm",className:"transition-colors cursor-pointer h-9 px-3",children:(0,r.jsxs)(c.default,{href:"/dashboard/cart",children:[r.jsx(j.Z,{className:"w-4 h-4 mr-2"}),"Корзина ",et>0?`(${et})`:""]})}),r.jsx(o.z,{asChild:!0,variant:"ghost",size:"sm",className:"transition-colors cursor-pointer h-9 px-3",children:(0,r.jsxs)(c.default,{href:"/dashboard/orders",children:[r.jsx(v.Z,{className:"w-4 h-4 mr-2"}),"Заказы ",ei>0?`(${ei})`:""]})}),r.jsx(o.z,{asChild:!0,variant:"ghost",size:"sm",className:"transition-colors cursor-pointer h-9 px-3",children:(0,r.jsxs)(c.default,{href:"/terms",children:[r.jsx(b.Z,{className:"w-4 h-4 mr-2"}),"Условия"]})}),Z?.is_admin&&r.jsx(o.z,{asChild:!0,variant:"secondary",size:"sm",className:"cursor-pointer h-9 px-3",children:(0,r.jsxs)(c.default,{href:"/admin",children:[r.jsx(y.Z,{className:"w-4 h-4 mr-2"}),"Админ"]})}),(0,r.jsxs)(o.z,{variant:"ghost",size:"sm",onClick:ex,className:"cursor-pointer h-9 px-3",children:[r.jsx(N.Z,{className:"w-4 h-4 mr-2"}),"Выйти"]})]}),(0,r.jsxs)("div",{className:"flex md:hidden items-center gap-2",children:[Z?.is_admin&&r.jsx(o.z,{asChild:!0,variant:"secondary",size:"sm",className:"cursor-pointer p-2 h-9 w-9",children:(0,r.jsxs)(c.default,{href:"/admin",children:[r.jsx(y.Z,{className:"w-4 h-4"}),r.jsx("span",{className:"sr-only",children:"Админ"})]})}),r.jsx(o.z,{asChild:!0,variant:"ghost",size:"sm",className:"cursor-pointer p-2 h-9 w-9",children:(0,r.jsxs)(c.default,{href:"/dashboard/cart",children:[r.jsx(j.Z,{className:"w-4 h-4"}),et>0&&r.jsx("span",{className:"absolute -top-1 -right-1 bg-primary text-primary-foreground text-xs rounded-full w-5 h-5 flex items-center justify-center",children:et})]})})]})]})})}),(0,r.jsxs)("div",{className:"flex-1 mx-auto w-full max-w-7xl px-4 sm:px-6 py-6 sm:py-8 lg:py-12",children:[(0,r.jsxs)("div",{className:"mb-6 sm:mb-8",children:[r.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-foreground via-primary to-foreground/60 bg-clip-text text-transparent",children:"Личный кабинет"}),r.jsx("p",{className:"text-muted-foreground mt-2",children:"Управление вашей учетной записью и настройками"})]}),(0,r.jsxs)("div",{className:"grid lg:grid-cols-3 gap-6",children:[(0,r.jsxs)("div",{className:"lg:col-span-1 space-y-6",children:[(0,r.jsxs)(m.Zb,{className:"bg-card/50 backdrop-blur-sm border-border/50 shadow-lg",children:[r.jsx(m.Ol,{className:"pb-4",children:(0,r.jsxs)(m.ll,{className:"flex items-center gap-2 text-lg",children:[r.jsx(w.Z,{className:"w-5 h-5 text-primary"}),"Статистика"]})}),(0,r.jsxs)(m.aY,{className:"space-y-6",children:[(0,r.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,r.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"relative w-20 h-20",children:[(0,r.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[r.jsx("circle",{className:"text-muted stroke-current",strokeWidth:"8",fill:"transparent",r:"40",cx:"50",cy:"50"}),r.jsx("circle",{className:"text-primary stroke-current",strokeWidth:"8",strokeLinecap:"round",fill:"transparent",r:"40",cx:"50",cy:"50",strokeDasharray:`${et/10*251.2} 251.2`,strokeDashoffset:"0",transform:"rotate(-90 50 50)"})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl font-bold",children:et})})]}),r.jsx("span",{className:"text-sm text-muted-foreground mt-2",children:"В корзине"})]}),(0,r.jsxs)("div",{className:"relative flex flex-col items-center",children:[(0,r.jsxs)("div",{className:"relative w-20 h-20",children:[(0,r.jsxs)("svg",{className:"w-full h-full",viewBox:"0 0 100 100",children:[r.jsx("circle",{className:"text-muted stroke-current",strokeWidth:"8",fill:"transparent",r:"40",cx:"50",cy:"50"}),r.jsx("circle",{className:"text-primary stroke-current",strokeWidth:"8",strokeLinecap:"round",fill:"transparent",r:"40",cx:"50",cy:"50",strokeDasharray:`${ei/10*251.2} 251.2`,strokeDashoffset:"0",transform:"rotate(-90 50 50)"})]}),r.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:r.jsx("span",{className:"text-2xl font-bold",children:ei})})]}),r.jsx("span",{className:"text-sm text-muted-foreground mt-2",children:"Заказов"})]})]}),r.jsx(B,{className:"bg-border/50"}),(0,r.jsxs)("div",{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-3",children:[r.jsx("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(k.Z,{className:"w-4 h-4 text-primary"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Статус аккаунта"}),(0,r.jsxs)(q.C,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200 mt-1",children:[r.jsx(A.Z,{className:"w-3 h-3 mr-1"}),"Активен"]})]})]})}),r.jsx("div",{className:"flex items-center justify-between",children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx("div",{className:"w-8 h-8 rounded-full bg-primary/10 flex items-center justify-center",children:r.jsx(z,{className:"w-4 h-4 text-primary"})}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"text-sm font-medium",children:"Дата регистрации"}),r.jsx("p",{className:"text-sm text-muted-foreground",children:new Date(s.created_at).toLocaleDateString("ru-RU")})]})]})})]}),Z?.is_admin&&(0,r.jsxs)("div",{className:"p-3 bg-gradient-to-r from-primary/10 to-primary/5 rounded-lg border border-primary/20",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[r.jsx(k.Z,{className:"w-4 h-4 text-primary"}),r.jsx("span",{className:"text-sm font-medium",children:"Роль: Администратор"})]}),r.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Полный доступ ко всем функциям системы"})]})]})]})]}),(0,r.jsxs)(m.Zb,{className:"bg-card/50 backdrop-blur-sm border-border/50 shadow-lg",children:[r.jsx(m.Ol,{className:"pb-4",children:(0,r.jsxs)(m.ll,{className:"flex items-center gap-2 text-lg",children:[r.jsx(C,{className:"w-5 h-5 text-primary"}),"Информация"]})}),(0,r.jsxs)(m.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(_.Z,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Email:"})]}),r.jsx("p",{className:"text-sm text-muted-foreground break-all pl-6",children:s.email}),r.jsx("p",{className:"text-xs text-muted-foreground/70 pl-6",children:"Email не может быть изменен"})]}),r.jsx(B,{className:"bg-border/50"}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[r.jsx(M.Z,{className:"w-4 h-4 text-muted-foreground"}),r.jsx("span",{className:"font-medium",children:"Имя:"})]}),r.jsx("p",{className:"text-sm font-medium pl-6",children:V||"Не указано"})]})]})]})]}),(0,r.jsxs)("div",{className:"lg:col-span-2 space-y-6",children:[(0,r.jsxs)(m.Zb,{className:"bg-card/50 backdrop-blur-sm border-border/50 shadow-lg",children:[(0,r.jsxs)(m.Ol,{children:[(0,r.jsxs)(m.ll,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[r.jsx(C,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"}),"Редактировать профиль"]}),r.jsx(m.SZ,{children:"Обновите ваше имя и аватар профиля"})]}),(0,r.jsxs)("form",{onSubmit:eo,children:[r.jsx(m.aY,{className:"space-y-6",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-6",children:[(0,r.jsxs)("div",{className:"flex flex-col items-center sm:items-start gap-4",children:[(0,r.jsxs)("div",{className:"relative group",children:[(0,r.jsxs)(h.qE,{className:"w-24 h-24 sm:w-28 sm:h-28 border-2 border-primary/20 shadow-lg group-hover:border-primary/40 transition-colors",children:[r.jsx(h.F$,{src:O||"/placeholder.svg",className:"object-cover"}),r.jsx(h.Q5,{className:"text-2xl bg-gradient-to-br from-primary/20 to-primary/10",children:eu})]}),r.jsx(o.z,{type:"button",size:"icon",variant:"secondary",className:"absolute -bottom-2 -right-2 rounded-full cursor-pointer shadow-md hover:shadow-lg transition-shadow",onClick:()=>er.current?.click(),children:r.jsx(P,{className:"w-4 h-4"})}),r.jsx("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 rounded-full transition-opacity flex items-center justify-center",children:r.jsx("span",{className:"text-xs text-white font-medium",children:"Изменить"})})]}),r.jsx("input",{ref:er,type:"file",accept:"image/*",onChange:ec,className:"hidden"}),J&&(0,r.jsxs)("div",{className:"text-xs text-primary flex items-center gap-2",children:[r.jsx(A.Z,{className:"w-3 h-3"}),J.name," (готово к сохранению)"]})]}),(0,r.jsxs)("div",{className:"flex-1 w-full space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(u._,{htmlFor:"fullName",className:"flex items-center gap-2 text-sm font-medium",children:[r.jsx(M.Z,{className:"w-4 h-4"}),"Полное имя"]}),r.jsx(x.I,{id:"fullName",value:V,onChange:e=>F(e.target.value),placeholder:"Введите ваше имя",className:"cursor-text h-11"}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Это имя будет отображаться в вашем профиле"})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(u._,{htmlFor:"email",className:"flex items-center gap-2 text-sm font-medium",children:[r.jsx(_.Z,{className:"w-4 h-4"}),"Email"]}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(x.I,{id:"email",value:s.email,disabled:!0,className:"bg-muted/50 cursor-not-allowed h-11 pr-10"}),r.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:r.jsx(S.Z,{className:"w-4 h-4 text-muted-foreground"})})]}),(0,r.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[r.jsx(I.Z,{className:"w-3 h-3"}),"Email не может быть изменен"]})]})]})]})}),r.jsx(m.eW,{className:"border-t border-border/50 pt-6",children:r.jsx(o.z,{type:"submit",disabled:Q,className:"cursor-pointer w-full sm:w-auto bg-gradient-to-r from-primary to-primary/90 hover:from-primary hover:to-primary/80 shadow-md hover:shadow-lg transition-all duration-200 h-11 px-6",children:Q?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 mr-2 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Сохранение..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(A.Z,{className:"w-4 h-4 mr-2"}),"Сохранить изменения"]})})})]})]}),(0,r.jsxs)(m.Zb,{className:"bg-card/50 backdrop-blur-sm border-border/50 shadow-lg",children:[(0,r.jsxs)(m.Ol,{children:[(0,r.jsxs)(m.ll,{className:"flex items-center gap-2 text-lg sm:text-xl",children:[r.jsx(L,{className:"w-5 h-5 sm:w-6 sm:h-6 text-primary"}),"Безопасность аккаунта"]}),r.jsx(m.SZ,{children:"Измените пароль для защиты вашего аккаунта"})]}),(0,r.jsxs)("form",{onSubmit:em,children:[(0,r.jsxs)(m.aY,{className:"space-y-4",children:[(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(u._,{htmlFor:"newPassword",className:"flex items-center gap-2 text-sm font-medium",children:[r.jsx(S.Z,{className:"w-4 h-4"}),"Новый пароль"]}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(x.I,{id:"newPassword",type:es?"text":"password",value:G,onChange:e=>T(e.target.value),placeholder:"Введите новый пароль",className:"cursor-text h-11 pr-10"}),r.jsx(o.z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-7 w-7 cursor-pointer",onClick:()=>ea(!es),children:es?r.jsx(D,{className:"w-4 h-4"}):r.jsx(E,{className:"w-4 h-4"})})]}),(0,r.jsxs)("div",{className:"flex items-center gap-2 text-xs text-muted-foreground",children:[r.jsx(I.Z,{className:"w-3 h-3"}),"Минимум 6 символов"]})]}),(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)(u._,{htmlFor:"confirmPassword",className:"flex items-center gap-2 text-sm font-medium",children:[r.jsx(S.Z,{className:"w-4 h-4"}),"Подтвердите пароль"]}),(0,r.jsxs)("div",{className:"relative",children:[r.jsx(x.I,{id:"confirmPassword",type:es?"text":"password",value:X,onChange:e=>K(e.target.value),placeholder:"Повторите новый пароль",className:"cursor-text h-11 pr-10"}),r.jsx(o.z,{type:"button",variant:"ghost",size:"icon",className:"absolute right-2 top-1/2 transform -translate-y-1/2 h-7 w-7 cursor-pointer",onClick:()=>ea(!es),children:es?r.jsx(D,{className:"w-4 h-4"}):r.jsx(E,{className:"w-4 h-4"})})]}),G&&X&&G!==X&&(0,r.jsxs)("p",{className:"text-xs text-red-500 flex items-center gap-1",children:[r.jsx(I.Z,{className:"w-3 h-3"}),"Пароли не совпадают"]})]})]}),r.jsx(m.eW,{className:"border-t border-border/50 pt-6",children:r.jsx(o.z,{type:"submit",disabled:Q||!G||!X||G!==X,className:"cursor-pointer w-full sm:w-auto bg-gradient-to-r from-primary to-primary/90 hover:from-primary hover:to-primary/80 shadow-md hover:shadow-lg transition-all duration-200 h-11 px-6 disabled:opacity-50 disabled:cursor-not-allowed",children:Q?(0,r.jsxs)(r.Fragment,{children:[r.jsx("div",{className:"w-4 h-4 mr-2 animate-spin rounded-full border-2 border-current border-t-transparent"}),"Изменение..."]}):(0,r.jsxs)(r.Fragment,{children:[r.jsx(k.Z,{className:"w-4 h-4 mr-2"}),"Обновить пароль"]})})})]})]})]})]})]}),r.jsx("div",{className:"border-t border-border/40 mt-12 py-6",children:r.jsx("div",{className:"mx-auto max-w-7xl px-4 sm:px-6",children:(0,r.jsxs)("div",{className:"flex flex-col sm:flex-row items-center justify-between gap-4",children:[(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[r.jsx("div",{className:"w-8 h-8 rounded-lg bg-primary/10 flex items-center justify-center",children:r.jsx(n.default,{src:d.default,alt:"Lonely Price",width:500,height:300,priority:!0,className:"rounded-[50%]"})}),r.jsx("span",{className:"text-sm font-medium",children:"Lonely PRICE"})]}),(0,r.jsxs)("div",{className:"text-xs text-muted-foreground text-center sm:text-right",children:["\xa9 ",new Date().getFullYear()," Админ-панель. Все права защищены."]})]})})})]})}},83884:(e,s,a)=>{"use strict";a.d(s,{AnimatedBackground:()=>l});var r=a(10326),t=a(17577);function l(){let e=(0,t.useRef)(null);return(0,t.useRef)(),(0,r.jsxs)(r.Fragment,{children:[r.jsx("canvas",{ref:e,className:"fixed top-0 left-0 w-full h-full -z-10",style:{background:"linear-gradient(135deg, #000000 0%, #0a0a0a 50%, #000000 100%)"}}),r.jsx("div",{className:"fixed top-0 left-0 w-full h-full -z-10 pointer-events-none",style:{background:`
            radial-gradient(ellipse at 10% 20%, rgba(255, 255, 255, 0.02) 0%, transparent 50%),
            radial-gradient(ellipse at 90% 80%, rgba(255, 255, 255, 0.015) 0%, transparent 50%),
            radial-gradient(ellipse at 50% 50%, rgba(255, 255, 255, 0.01) 0%, transparent 60%)
          `,backdropFilter:"blur(60px) contrast(120%)",mixBlendMode:"overlay"}}),r.jsx("div",{className:"fixed top-0 left-0 w-full h-full -z-10 pointer-events-none",style:{background:"radial-gradient(ellipse at center, transparent 30%, rgba(0, 0, 0, 0.9) 70%)"}})]})}},85562:(e,s,a)=>{"use strict";a.d(s,{qE:()=>b,Q5:()=>N,F$:()=>y});var r=a(10326),t=a(17577),l=a(93095),i=a(55049),n=a(65819),d=a(45226),c="Avatar",[o,m]=(0,l.b)(c),[x,u]=o(c),h=t.forwardRef((e,s)=>{let{__scopeAvatar:a,...l}=e,[i,n]=t.useState("idle");return(0,r.jsx)(x,{scope:a,imageLoadingStatus:i,onImageLoadingStatusChange:n,children:(0,r.jsx)(d.WV.span,{...l,ref:s})})});h.displayName=c;var p="AvatarImage",f=t.forwardRef((e,s)=>{let{__scopeAvatar:a,src:l,onLoadingStatusChange:c=()=>{},...o}=e,m=u(p,a),x=function(e,s){let[a,r]=t.useState("idle");return(0,n.b)(()=>{if(!e){r("error");return}let a=!0,t=new window.Image,l=e=>()=>{a&&r(e)};return r("loading"),t.onload=l("loaded"),t.onerror=l("error"),t.src=e,s&&(t.referrerPolicy=s),()=>{a=!1}},[e,s]),a}(l,o.referrerPolicy),h=(0,i.W)(e=>{c(e),m.onImageLoadingStatusChange(e)});return(0,n.b)(()=>{"idle"!==x&&h(x)},[x,h]),"loaded"===x?(0,r.jsx)(d.WV.img,{...o,ref:s,src:l}):null});f.displayName=p;var g="AvatarFallback",j=t.forwardRef((e,s)=>{let{__scopeAvatar:a,delayMs:l,...i}=e,n=u(g,a),[c,o]=t.useState(void 0===l);return t.useEffect(()=>{if(void 0!==l){let e=window.setTimeout(()=>o(!0),l);return()=>window.clearTimeout(e)}},[l]),c&&"loaded"!==n.imageLoadingStatus?(0,r.jsx)(d.WV.span,{...i,ref:s}):null});j.displayName=g;var v=a(77863);function b({className:e,...s}){return r.jsx(h,{"data-slot":"avatar",className:(0,v.cn)("relative flex size-8 shrink-0 overflow-hidden rounded-full",e),...s})}function y({className:e,...s}){return r.jsx(f,{"data-slot":"avatar-image",className:(0,v.cn)("aspect-square size-full",e),...s})}function N({className:e,...s}){return r.jsx(j,{"data-slot":"avatar-fallback",className:(0,v.cn)("bg-muted flex size-full items-center justify-center rounded-full",e),...s})}},567:(e,s,a)=>{"use strict";a.d(s,{C:()=>d});var r=a(10326);a(17577);var t=a(34214),l=a(79360),i=a(77863);let n=(0,l.j)("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function d({className:e,variant:s,asChild:a=!1,...l}){let d=a?t.g7:"span";return r.jsx(d,{"data-slot":"badge",className:(0,i.cn)(n({variant:s}),e),...l})}},33071:(e,s,a)=>{"use strict";a.d(s,{Ol:()=>i,SZ:()=>d,Zb:()=>l,aY:()=>c,eW:()=>o,ll:()=>n});var r=a(10326);a(17577);var t=a(77863);function l({className:e,...s}){return r.jsx("div",{"data-slot":"card",className:(0,t.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",e),...s})}function i({className:e,...s}){return r.jsx("div",{"data-slot":"card-header",className:(0,t.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",e),...s})}function n({className:e,...s}){return r.jsx("div",{"data-slot":"card-title",className:(0,t.cn)("leading-none font-semibold",e),...s})}function d({className:e,...s}){return r.jsx("div",{"data-slot":"card-description",className:(0,t.cn)("text-muted-foreground text-sm",e),...s})}function c({className:e,...s}){return r.jsx("div",{"data-slot":"card-content",className:(0,t.cn)("px-6",e),...s})}function o({className:e,...s}){return r.jsx("div",{"data-slot":"card-footer",className:(0,t.cn)("flex items-center px-6 [.border-t]:pt-6",e),...s})}},54432:(e,s,a)=>{"use strict";a.d(s,{I:()=>l});var r=a(10326);a(17577);var t=a(77863);function l({className:e,type:s,...a}){return r.jsx("input",{type:s,"data-slot":"input",className:(0,t.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...a})}},45842:(e,s,a)=>{"use strict";a.d(s,{_:()=>d});var r=a(10326),t=a(17577),l=a(45226),i=t.forwardRef((e,s)=>(0,r.jsx)(l.WV.label,{...e,ref:s,onMouseDown:s=>{s.target.closest("button, input, select, textarea")||(e.onMouseDown?.(s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));i.displayName="Label";var n=a(77863);function d({className:e,...s}){return r.jsx(i,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",e),...s})}},26754:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(62881).Z)("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]])},41291:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(62881).Z)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},30361:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(62881).Z)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},9015:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(62881).Z)("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]])},5932:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(62881).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},48705:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(62881).Z)("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]])},58038:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(62881).Z)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]])},3634:(e,s,a)=>{"use strict";a.d(s,{Z:()=>r});let r=(0,a(62881).Z)("Zap",[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]])},46226:(e,s,a)=>{"use strict";a.d(s,{default:()=>t.a});var r=a(69029),t=a.n(r)},69029:(e,s,a)=>{"use strict";Object.defineProperty(s,"__esModule",{value:!0}),function(e,s){for(var a in s)Object.defineProperty(e,a,{enumerable:!0,get:s[a]})}(s,{default:function(){return d},getImageProps:function(){return n}});let r=a(91174),t=a(23078),l=a(92481),i=r._(a(86820));function n(e){let{props:s}=(0,t.getImgProps)(e,{defaultLoader:i.default,imgConf:{deviceSizes:[640,750,828,1080,1200,1920,2048,3840],imageSizes:[16,32,48,64,96,128,256,384],path:"/_next/image",loader:"default",dangerouslyAllowSVG:!1,unoptimized:!1}});for(let[e,a]of Object.entries(s))void 0===a&&delete s[e];return{props:s}}let d=l.Image},45587:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r=(0,a(68570).createProxy)(String.raw`/home/ensi/Projects/lonlyprice/app/dashboard/profile/page.tsx#default`)},30656:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>r});let r={src:"/_next/static/media/logo.1e858ee9.png",height:1024,width:1024,blurDataURL:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAICAMAAADz0U65AAAAHlBMVEX//v/w8PDMzMz4+Pi1tbWFhYWfn59ubm4PDw+Xl5cWOcINAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAKUlEQVR4nGNgwATMTIwQBgsrCwOYycrBzsLGxMDAwMTJxMwIlYWpBlMACXYASgctBm8AAAAASUVORK5CYII=",blurWidth:8,blurHeight:8}}};var s=require("../../../webpack-runtime.js");s.C(e);var a=e=>s(s.s=e),r=s.X(0,[948,959,404,684,470,604],()=>a(13291));module.exports=r})();